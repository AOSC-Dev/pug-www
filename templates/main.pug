extends layout.pug

mixin nav
  mixin navGroup(path)
    - var isCurrent = path === dirname(id)

    a.nav-link= _.nav[path]

    ul.nav.nav-pills.nav-stacked
      block

  mixin navItem(path)
    a.nav-link(
      href=relative(dirname(id), path + '.html')
      class={active: path === id}
    )= _.nav[path]

  // nav placeholder
  nav.nav.nav-pills.nav-stacked&attributes(attributes)
    +navGroup('api')
      +navItem('api/getting-started')
      +navItem('api/express')
      +navItem('api/reference')

    +navGroup('language')
      +navItem('language/attributes')
      +navItem('language/case')
      +navItem('language/code')
      +navItem('language/comments')
      +navItem('language/conditionals')
      +navItem('language/doctype')
      +navItem('language/extends')
      +navItem('language/filters')
      +navItem('language/includes')
      +navItem('language/inheritance')
      +navItem('language/interpolation')
      +navItem('language/iteration')
      +navItem('language/mixins')
      +navItem('language/plain-text')
      +navItem('language/tags')

block head
  title #{title} &ndash; Pug

block body
  aside.menu.outside.hidden
    //- FIXME
    a.toggle O
    +nav

  nav.navbar.navbar-full.navbar-dark.bg-primary
    .container
      a.navbar-brand(href='/') pug
      ul.nav.navbar-nav.pull-xs-right
        li.nav-item.active
          a.nav-link(href='/')= _.navbar.docs
        li.nav-item
          a.nav-link(href='/')= _.navbar.demo
        li.nav-item
          a.nav-link(href='https://github.com/pugjs/pug') GitHub

  .container
    block content
  block after
